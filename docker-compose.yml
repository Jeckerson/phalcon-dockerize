version: '3.5'

services:
  phalcon-cphalcon:
    container_name: phalcon-cphalcon
    image: phalcon-local:4.0.0
    working_dir: /srv
    volumes:
      - ./Projects/cphalcon:/srv:rw
    ports:
      - "1999:88"
  phalcon-vokuro:
    container_name: phalcon-vokuro
    image: phalcon-local:4.0.0
    working_dir: /srv
    volumes:
      - ./Projects/vokuro:/srv:rw
    ports:
      - "2000:81"
  phalcon-api:
    container_name: phalcon-api
    image: phalcon-local:4.0.0
    working_dir: /srv
    volumes:
      - ./Projects/phalcon-api:/srv:rw
    ports:
      - "2001:82"
  phalcon-devtools:
    container_name: phalcon-devtools
    image: phalcon-local:4.0.0
    working_dir: /srv/
    volumes:
      - ./Projects/phalcon-devtools:/srv:rw
    ports:
      - "2002:83"
      - "2003:8000"
  phalcon-migrations:
    container_name: phalcon-migrations
    image: phalcon-local:4.0.0
    working_dir: /srv
    volumes:
      - ./Projects/migrations:/srv:rw
    ports:
      - "2004:89"
  phalcon-invo:
    container_name: phalcon-invo
    image: phalcon-local:4.0.0
    working_dir: /srv
    volumes:
      - ./Projects/invo:/srv:rw
    ports:
      - "2005:90"
  phalcon-db-mysql:
    container_name: phalcon-db-mysql
    image: mysql:5.7
    environment:
      MYSQL_DATABASE: "db"
      MYSQL_USER: "phalcon"
      MYSQL_PASSWORD: "password"
      MYSQL_ROOT_PASSWORD: "root"
    ports:
      - "3351:3306"
    volumes:
      - mysql-db:/var/lib/mysql

networks:
  default:
    name: phalcon-local

volumes:
  mysql-db:
